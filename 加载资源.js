function 加载资源(){let g=txtime();for(let r=0;r<卡牌数据库.length;r++)c(卡牌数据库[r].名称,"src_卡牌插画");for(let r=0;r<卡牌效果.length;r++)卡牌效果[r].不要动画||c(卡牌效果[r].名称+"_动画","src_技能动画","dh");function c(n,c="src_基础",s="jpg"){if(jzjm("正在加载资源"+(0<图片.已损坏?",有"+图片.已损坏+"个资源损坏":""),0<图片.已损坏?1:0,图片.已加载,图片.总数量,g),"dh"==s)图片.动画请求数++,txqq(c+`/${n}.`+s,{},s=>{图片.总数量+=s.length;let _=[];for(let c=0;c<s.length;c++){let r=new Image;r.src=s[c],r.onload=()=>{_.push(r),_.length>=s.length&&(图片[n]=_),图片.已加载++,jzjm("正在加载资源"+(0<图片.已损坏?",有"+图片.已损坏+"个资源损坏":""),0<图片.已损坏?1:0,图片.已加载,图片.总数量,g),图片.总数量<=图片.已加载+图片.已损坏&&图片.动画请求数<=0&&对局初始化()},r.onerror=()=>{图片.已损坏++,jzjm("正在加载资源"+(0<图片.已损坏?",有"+图片.已损坏+"个资源损坏":""),0<图片.已损坏?1:0,图片.已加载,图片.总数量,g),图片.总数量<=图片.已加载+图片.已损坏&&图片.动画请求数<=0&&对局初始化()}}图片.动画请求数--});else{图片.总数量++;let r=new Image;r.src=c+`/${n}.`+s,r.onload=()=>{图片[n]=r,图片.已加载++,jzjm("正在加载资源"+(0<图片.已损坏?",有"+图片.已损坏+"个资源损坏":""),0<图片.已损坏?1:0,图片.已加载,图片.总数量,g),图片.总数量<=图片.已加载+图片.已损坏&&图片.动画请求数<=0&&对局初始化()},r.onerror=()=>{图片.已损坏++,jzjm("正在加载资源"+(0<图片.已损坏?",有"+图片.已损坏+"个资源损坏":""),0<图片.已损坏?1:0,图片.已加载,图片.总数量,g),图片.总数量<=图片.已加载+图片.已损坏&&图片.动画请求数<=0&&对局初始化()}}}c("对战背景"),c("我方头像","src_基础","png"),c("敌方头像","src_基础","png"),c("卡背","src_基础","png"),c("水晶","src_基础","png"),c("攻击图标","src_基础","png"),c("血量图标","src_基础","png"),c("卡牌边框","src_基础","png"),c("卡牌边框_敌","src_基础","png"),c("死亡边框","src_基础","png"),c("传说卡牌边框","src_基础","png"),c("普通宝石","src_基础","png"),c("稀有宝石","src_基础","png"),c("史诗宝石","src_基础","png"),c("传说宝石","src_基础","png"),c("治疗背景","src_基础","png"),c("伤害背景","src_基础","png"),c("伤害背景大","src_基础","png"),c("胜利","src_基础","png"),c("失败","src_基础","png"),c("亡语图标","src_基础","png"),c("被动图标","src_基础","png"),c("吸血图标","src_基础","png"),c("剧毒图标","src_基础","png"),c("攻击标记","src_序列动画","dh"),c("获得卡牌","src_序列动画","dh"),c("攻击英雄标记","src_序列动画","dh"),c("鼠标点击","src_序列动画","dh"),c("游戏开始","src_序列动画","dh"),c("战斗开始","src_序列动画","dh"),c("死亡动画","src_序列动画","dh"),c("亡语_动画","src_序列动画","dh"),c("橙卡死亡动画","src_序列动画","dh"),c("英雄死亡","src_序列动画","dh"),c("选择强化动画","src_序列动画","dh"),c("风怒","src_序列动画","dh")}